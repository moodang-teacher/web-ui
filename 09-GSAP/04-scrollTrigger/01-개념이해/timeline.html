<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>scrollTrigger - timeline</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      section {
        height: 100vh;
        padding: 3vw;
        font-size: 3vw;
        color: #fff;
      }
      .sec1 {
        background: tomato;
      }
      .sec2 {
        background: skyblue;
      }
      .sec3 {
        background: blue;
      }
    </style>
  </head>
  <body>
    <!-- main>section*3>h2 -->
    <main>
      <section class="sec1">
        <h2>section1</h2>
      </section>

      <section class="sec2">
        <p class="p1">도저히 손댈 수가 없는 곤란에 부딪혔다면</p>
        <p class="p2">과감하게 그 속으로 뛰어들라.</p>
        <p class="p3">그리하면 불가능하다고 생각했던 일이 가능해진다.</p>
        <p class="p4">용기있는 자로 살아라.</p>
        <p class="p5">운이 따라주지 않는다면</p>
        <p class="p6">용기 있는 가슴으로 불행에 맞서라.</p>
      </section>

      <section class="sec3">
        <h2>section3</h2>
      </section>

      <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.7/dist/gsap.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.7/dist/ScrollTrigger.min.js"></script>

      <script>
        // 스크롤트리거 연동
        gsap.registerPlugin(ScrollTrigger);

        // 애니메이션을 타임라인으로 정의
        const tl = gsap.timeline({
          // 타임라인에 스크롤트리거 세팅
          scrollTrigger: {
            trigger: '.sec2',
            markers: true,
            start: 'center 50%', // trigger/viewport(scroller)
            end: 'bottom+=3000 0%',

            pin: true, // 트리거영역을 고정 (=sticky)
            scrub: 1,
          },
        });

        tl.from('.p1', { x: 200, autoAlpha: 0, duration: 3, delay: 3 });
        tl.from('.p2', { x: -200, autoAlpha: 0, duration: 3 });
        tl.from('.p3', { x: 200, autoAlpha: 0, duration: 3 });
        tl.from('.p4', { x: -200, autoAlpha: 0, duration: 3 });
        tl.from('.p5', { x: 200, autoAlpha: 0, duration: 3 });
        tl.from('.p6', { x: -200, autoAlpha: 0, duration: 3 });
        tl.to({}, { delay: 3 }); // 일부러 지연시간을 주고 애니메이션을 종료
      </script>
    </main>
  </body>
</html>
